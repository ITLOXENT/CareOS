{
  "components": {
    "schemas": {
      "AIReviewCreateRequest": {
        "properties": {
          "input_type": {
            "type": "string"
          },
          "payload": {
            "type": "object"
          }
        },
        "required": [
          "input_type"
        ],
        "type": "object"
      },
      "AIReviewCreateResponse": {
        "properties": {
          "created_at": {
            "type": "string"
          },
          "id": {
            "type": "integer"
          },
          "input_type": {
            "type": "string"
          },
          "status": {
            "type": "string"
          }
        },
        "required": [
          "id",
          "status",
          "input_type",
          "created_at"
        ],
        "type": "object"
      },
      "AIReviewDetail": {
        "properties": {
          "created_at": {
            "type": "string"
          },
          "error": {
            "type": "string"
          },
          "id": {
            "type": "integer"
          },
          "input_type": {
            "type": "string"
          },
          "model_name": {
            "type": "string"
          },
          "model_provider": {
            "type": "string"
          },
          "model_version": {
            "type": "string"
          },
          "output": {
            "type": "object"
          },
          "payload": {
            "type": "object"
          },
          "status": {
            "type": "string"
          }
        },
        "required": [
          "id",
          "input_type",
          "status",
          "created_at"
        ],
        "type": "object"
      },
      "AIReviewItem": {
        "properties": {
          "created_at": {
            "type": "string"
          },
          "decided_at": {
            "type": [
              "string",
              "null"
            ]
          },
          "decided_by": {
            "type": [
              "integer",
              "null"
            ]
          },
          "decision_note": {
            "type": "string"
          },
          "episode_id": {
            "type": [
              "integer",
              "null"
            ]
          },
          "id": {
            "type": "integer"
          },
          "kind": {
            "type": "string"
          },
          "payload_json": {
            "type": "object"
          },
          "status": {
            "type": "string"
          }
        },
        "required": [
          "id",
          "kind",
          "status",
          "created_at"
        ],
        "type": "object"
      },
      "AIReviewItemDecision": {
        "properties": {
          "decision": {
            "type": "string"
          },
          "note": {
            "type": "string"
          }
        },
        "required": [
          "decision"
        ],
        "type": "object"
      },
      "AIReviewItemDecisionResponse": {
        "properties": {
          "decision_note": {
            "type": "string"
          },
          "id": {
            "type": "integer"
          },
          "status": {
            "type": "string"
          }
        },
        "required": [
          "id",
          "status"
        ],
        "type": "object"
      },
      "AIReviewItemList": {
        "properties": {
          "results": {
            "items": {
              "$ref": "#/components/schemas/AIReviewItem"
            },
            "type": "array"
          }
        },
        "required": [
          "results"
        ],
        "type": "object"
      },
      "AIReviewListResponse": {
        "properties": {
          "results": {
            "items": {
              "$ref": "#/components/schemas/AIReviewDetail"
            },
            "type": "array"
          }
        },
        "required": [
          "results"
        ],
        "type": "object"
      },
      "AdminAuthAuditRequest": {
        "properties": {
          "outcome": {
            "type": "string"
          },
          "username": {
            "type": "string"
          }
        },
        "required": [
          "outcome",
          "username"
        ],
        "type": "object"
      },
      "AuditEvent": {
        "properties": {
          "action": {
            "type": "string"
          },
          "actor_id": {
            "type": [
              "integer",
              "null"
            ]
          },
          "created_at": {
            "type": "string"
          },
          "id": {
            "type": "integer"
          },
          "metadata": {
            "type": "object"
          },
          "request_id": {
            "type": "string"
          },
          "target_id": {
            "type": "string"
          },
          "target_type": {
            "type": "string"
          }
        },
        "required": [
          "id",
          "action",
          "target_type",
          "target_id",
          "created_at"
        ],
        "type": "object"
      },
      "AuditEventList": {
        "properties": {
          "count": {
            "type": "integer"
          },
          "page": {
            "type": "integer"
          },
          "page_size": {
            "type": "integer"
          },
          "results": {
            "items": {
              "$ref": "#/components/schemas/AuditEvent"
            },
            "type": "array"
          }
        },
        "required": [
          "results",
          "count",
          "page",
          "page_size"
        ],
        "type": "object"
      },
      "BillingCheckoutRequest": {
        "properties": {
          "cancel_url": {
            "type": "string"
          },
          "currency": {
            "type": "string"
          },
          "plan_code": {
            "type": "string"
          },
          "success_url": {
            "type": "string"
          }
        },
        "required": [
          "plan_code",
          "success_url",
          "cancel_url"
        ],
        "type": "object"
      },
      "BillingCheckoutResponse": {
        "properties": {
          "id": {
            "type": "string"
          },
          "url": {
            "type": "string"
          }
        },
        "required": [
          "id",
          "url"
        ],
        "type": "object"
      },
      "BillingPlan": {
        "properties": {
          "code": {
            "type": "string"
          },
          "currency": {
            "type": "string"
          },
          "entitlements": {
            "type": "object"
          },
          "name": {
            "type": "string"
          },
          "seats": {
            "type": "integer"
          }
        },
        "required": [
          "code",
          "name",
          "seats"
        ],
        "type": "object"
      },
      "BillingPlanList": {
        "properties": {
          "results": {
            "items": {
              "$ref": "#/components/schemas/BillingPlan"
            },
            "type": "array"
          }
        },
        "required": [
          "results"
        ],
        "type": "object"
      },
      "BillingSubscription": {
        "properties": {
          "currency": {
            "type": [
              "string",
              "null"
            ]
          },
          "current_period_end": {
            "type": [
              "string",
              "null"
            ]
          },
          "entitlements": {
            "type": "object"
          },
          "plan_code": {
            "type": "string"
          },
          "seat_limit": {
            "type": "integer"
          },
          "status": {
            "type": "string"
          }
        },
        "required": [
          "status"
        ],
        "type": "object"
      },
      "ConsentRecord": {
        "properties": {
          "channel": {
            "type": "string"
          },
          "consent_type": {
            "type": "string"
          },
          "created_at": {
            "type": "string"
          },
          "granted": {
            "type": "boolean"
          },
          "id": {
            "type": "integer"
          },
          "metadata": {
            "type": "object"
          },
          "policy_version": {
            "type": "string"
          },
          "recorded_at": {
            "type": "string"
          },
          "subject_id": {
            "type": "string"
          },
          "subject_type": {
            "type": "string"
          }
        },
        "required": [
          "id",
          "subject_type",
          "subject_id",
          "consent_type",
          "policy_version",
          "granted",
          "recorded_at",
          "created_at"
        ],
        "type": "object"
      },
      "ConsentRecordCreateRequest": {
        "properties": {
          "channel": {
            "type": "string"
          },
          "consent_type": {
            "type": "string"
          },
          "granted": {
            "type": "boolean"
          },
          "metadata": {
            "type": "object"
          },
          "policy_version": {
            "type": "string"
          },
          "subject_id": {
            "type": "string"
          },
          "subject_type": {
            "type": "string"
          }
        },
        "required": [
          "subject_type",
          "subject_id",
          "consent_type",
          "policy_version"
        ],
        "type": "object"
      },
      "ConsentRecordList": {
        "properties": {
          "results": {
            "items": {
              "$ref": "#/components/schemas/ConsentRecord"
            },
            "type": "array"
          }
        },
        "required": [
          "results"
        ],
        "type": "object"
      },
      "Conversation": {
        "properties": {
          "created_at": {
            "type": "string"
          },
          "episode_id": {
            "type": [
              "integer",
              "null"
            ]
          },
          "id": {
            "type": "integer"
          },
          "participants": {
            "items": {
              "$ref": "#/components/schemas/ConversationParticipant"
            },
            "type": "array"
          }
        },
        "required": [
          "id",
          "participants",
          "created_at"
        ],
        "type": "object"
      },
      "ConversationCreateRequest": {
        "properties": {
          "episode_id": {
            "type": "integer"
          },
          "participants": {
            "items": {
              "type": "integer"
            },
            "type": "array"
          }
        },
        "type": "object"
      },
      "ConversationDetailResponse": {
        "properties": {
          "episode_id": {
            "type": [
              "integer",
              "null"
            ]
          },
          "id": {
            "type": "integer"
          },
          "messages": {
            "items": {
              "$ref": "#/components/schemas/Message"
            },
            "type": "array"
          },
          "participants": {
            "items": {
              "$ref": "#/components/schemas/ConversationParticipant"
            },
            "type": "array"
          }
        },
        "required": [
          "id",
          "participants",
          "messages"
        ],
        "type": "object"
      },
      "ConversationListResponse": {
        "properties": {
          "results": {
            "items": {
              "$ref": "#/components/schemas/Conversation"
            },
            "type": "array"
          }
        },
        "required": [
          "results"
        ],
        "type": "object"
      },
      "ConversationParticipant": {
        "properties": {
          "email": {
            "type": [
              "string",
              "null"
            ]
          },
          "id": {
            "type": "integer"
          },
          "username": {
            "type": "string"
          }
        },
        "required": [
          "id",
          "username"
        ],
        "type": "object"
      },
      "DsarDeleteRequest": {
        "properties": {
          "subject_id": {
            "type": "string"
          },
          "subject_type": {
            "type": "string"
          }
        },
        "required": [
          "subject_type",
          "subject_id"
        ],
        "type": "object"
      },
      "DsarExport": {
        "properties": {
          "artifact_path": {
            "type": [
              "string",
              "null"
            ]
          },
          "created_at": {
            "type": "string"
          },
          "finished_at": {
            "type": [
              "string",
              "null"
            ]
          },
          "id": {
            "type": "integer"
          },
          "status": {
            "type": "string"
          },
          "subject_id": {
            "type": "string"
          },
          "subject_type": {
            "type": "string"
          }
        },
        "required": [
          "id",
          "subject_type",
          "subject_id",
          "status",
          "created_at"
        ],
        "type": "object"
      },
      "DsarExportList": {
        "properties": {
          "results": {
            "items": {
              "$ref": "#/components/schemas/DsarExport"
            },
            "type": "array"
          }
        },
        "required": [
          "results"
        ],
        "type": "object"
      },
      "DsarExportRequest": {
        "properties": {
          "subject_id": {
            "type": "string"
          },
          "subject_type": {
            "type": "string"
          }
        },
        "type": "object"
      },
      "Episode": {
        "properties": {
          "assigned_to": {
            "type": [
              "integer",
              "null"
            ]
          },
          "created_at": {
            "type": "string"
          },
          "created_by": {
            "type": [
              "integer",
              "null"
            ]
          },
          "description": {
            "type": "string"
          },
          "id": {
            "type": "integer"
          },
          "patient_id": {
            "type": [
              "integer",
              "null"
            ]
          },
          "status": {
            "type": "string"
          },
          "title": {
            "type": "string"
          },
          "updated_at": {
            "type": "string"
          }
        },
        "required": [
          "id",
          "title",
          "status",
          "created_at",
          "updated_at"
        ],
        "type": "object"
      },
      "EpisodeCreateRequest": {
        "properties": {
          "assigned_to_id": {
            "type": "integer"
          },
          "description": {
            "type": "string"
          },
          "patient_id": {
            "type": "integer"
          },
          "title": {
            "type": "string"
          }
        },
        "required": [
          "title"
        ],
        "type": "object"
      },
      "EpisodeEvent": {
        "properties": {
          "created_at": {
            "type": "string"
          },
          "created_by": {
            "type": [
              "integer",
              "null"
            ]
          },
          "event_type": {
            "type": "string"
          },
          "from_state": {
            "type": "string"
          },
          "from_status": {
            "type": "string"
          },
          "id": {
            "type": "integer"
          },
          "note": {
            "type": "string"
          },
          "payload_json": {
            "type": "object"
          },
          "to_state": {
            "type": "string"
          },
          "to_status": {
            "type": "string"
          }
        },
        "required": [
          "id",
          "event_type",
          "created_at"
        ],
        "type": "object"
      },
      "EpisodeList": {
        "properties": {
          "count": {
            "type": "integer"
          },
          "page": {
            "type": "integer"
          },
          "page_size": {
            "type": "integer"
          },
          "results": {
            "items": {
              "$ref": "#/components/schemas/Episode"
            },
            "type": "array"
          }
        },
        "required": [
          "results",
          "count",
          "page",
          "page_size"
        ],
        "type": "object"
      },
      "EpisodeTimelineResponse": {
        "properties": {
          "count": {
            "type": "integer"
          },
          "page": {
            "type": "integer"
          },
          "page_size": {
            "type": "integer"
          },
          "results": {
            "items": {
              "$ref": "#/components/schemas/EpisodeEvent"
            },
            "type": "array"
          }
        },
        "required": [
          "results",
          "count",
          "page",
          "page_size"
        ],
        "type": "object"
      },
      "EpisodeTransitionRequest": {
        "properties": {
          "note": {
            "type": "string"
          },
          "payload_json": {
            "type": "object"
          },
          "to_state": {
            "type": "string"
          },
          "to_status": {
            "type": "string"
          }
        },
        "required": [
          "to_state"
        ],
        "type": "object"
      },
      "EpisodeTransitionResponse": {
        "properties": {
          "id": {
            "type": "integer"
          },
          "status": {
            "type": "string"
          }
        },
        "required": [
          "id",
          "status"
        ],
        "type": "object"
      },
      "EvidenceBundle": {
        "properties": {
          "artifact_path": {
            "type": [
              "string",
              "null"
            ]
          },
          "created_at": {
            "type": "string"
          },
          "episode_id": {
            "type": "integer"
          },
          "id": {
            "type": "integer"
          },
          "manifest": {
            "type": "object"
          }
        },
        "required": [
          "id",
          "episode_id",
          "created_at"
        ],
        "type": "object"
      },
      "EvidenceBundleList": {
        "properties": {
          "results": {
            "items": {
              "$ref": "#/components/schemas/EvidenceBundle"
            },
            "type": "array"
          }
        },
        "required": [
          "results"
        ],
        "type": "object"
      },
      "EvidenceCreateRequest": {
        "properties": {
          "episode_id": {
            "type": "string"
          },
          "file": {
            "format": "binary",
            "type": "string"
          },
          "kind": {
            "type": "string"
          },
          "patient_id": {
            "type": "string"
          },
          "retention_class": {
            "type": "string"
          },
          "retention_until": {
            "type": "string"
          },
          "tags": {
            "type": "string"
          },
          "title": {
            "type": "string"
          }
        },
        "required": [
          "kind",
          "file"
        ],
        "type": "object"
      },
      "EvidenceEvent": {
        "properties": {
          "created_at": {
            "type": "string"
          },
          "created_by": {
            "type": [
              "integer",
              "null"
            ]
          },
          "event_type": {
            "type": "string"
          },
          "id": {
            "type": "integer"
          },
          "payload_json": {
            "type": "object"
          }
        },
        "required": [
          "id",
          "event_type",
          "created_at"
        ],
        "type": "object"
      },
      "EvidenceEventList": {
        "properties": {
          "count": {
            "type": "integer"
          },
          "page": {
            "type": "integer"
          },
          "page_size": {
            "type": "integer"
          },
          "results": {
            "items": {
              "$ref": "#/components/schemas/EvidenceEvent"
            },
            "type": "array"
          }
        },
        "required": [
          "results",
          "count",
          "page",
          "page_size"
        ],
        "type": "object"
      },
      "EvidenceItem": {
        "properties": {
          "content_type": {
            "type": "string"
          },
          "created_at": {
            "type": "string"
          },
          "episode_id": {
            "type": [
              "integer",
              "null"
            ]
          },
          "file_name": {
            "type": "string"
          },
          "id": {
            "type": "integer"
          },
          "kind": {
            "type": "string"
          },
          "patient_id": {
            "type": [
              "integer",
              "null"
            ]
          },
          "retention_class": {
            "type": "string"
          },
          "retention_until": {
            "type": [
              "string",
              "null"
            ]
          },
          "sha256": {
            "type": "string"
          },
          "size_bytes": {
            "type": "integer"
          },
          "storage_key": {
            "type": "string"
          },
          "tags": {
            "items": {
              "type": "string"
            },
            "type": "array"
          },
          "title": {
            "type": "string"
          }
        },
        "required": [
          "id",
          "title",
          "kind",
          "file_name",
          "size_bytes",
          "sha256",
          "tags",
          "created_at"
        ],
        "type": "object"
      },
      "EvidenceLinkRequest": {
        "properties": {
          "episode_id": {
            "type": "integer"
          },
          "patient_id": {
            "type": "integer"
          }
        },
        "type": "object"
      },
      "EvidenceLinkResponse": {
        "properties": {
          "episode_id": {
            "type": [
              "integer",
              "null"
            ]
          },
          "id": {
            "type": "integer"
          },
          "patient_id": {
            "type": [
              "integer",
              "null"
            ]
          }
        },
        "required": [
          "id",
          "episode_id",
          "patient_id"
        ],
        "type": "object"
      },
      "EvidenceListResponse": {
        "properties": {
          "count": {
            "type": "integer"
          },
          "page": {
            "type": "integer"
          },
          "page_size": {
            "type": "integer"
          },
          "results": {
            "items": {
              "$ref": "#/components/schemas/EvidenceItem"
            },
            "type": "array"
          }
        },
        "required": [
          "results",
          "count",
          "page",
          "page_size"
        ],
        "type": "object"
      },
      "EvidenceTagRequest": {
        "properties": {
          "tags": {
            "items": {
              "type": "string"
            },
            "type": "array"
          }
        },
        "required": [
          "tags"
        ],
        "type": "object"
      },
      "EvidenceTagResponse": {
        "properties": {
          "id": {
            "type": "integer"
          },
          "tags": {
            "items": {
              "type": "string"
            },
            "type": "array"
          }
        },
        "required": [
          "id",
          "tags"
        ],
        "type": "object"
      },
      "ExportJob": {
        "properties": {
          "artifact_path": {
            "type": "string"
          },
          "created_at": {
            "type": "string"
          },
          "finished_at": {
            "type": [
              "string",
              "null"
            ]
          },
          "id": {
            "type": "integer"
          },
          "kind": {
            "type": "string"
          },
          "params": {
            "type": "object"
          },
          "status": {
            "type": "string"
          }
        },
        "required": [
          "id",
          "kind",
          "status",
          "created_at"
        ],
        "type": "object"
      },
      "ExportJobList": {
        "properties": {
          "results": {
            "items": {
              "$ref": "#/components/schemas/ExportJob"
            },
            "type": "array"
          }
        },
        "required": [
          "results"
        ],
        "type": "object"
      },
      "ExportJobRequest": {
        "properties": {
          "kind": {
            "type": "string"
          },
          "last_days": {
            "type": "integer"
          }
        },
        "required": [
          "kind"
        ],
        "type": "object"
      },
      "HealthResponse": {
        "properties": {
          "build_sha": {
            "type": "string"
          },
          "db_ok": {
            "type": "boolean"
          },
          "status": {
            "type": "string"
          },
          "timestamp": {
            "type": "string"
          },
          "version": {
            "type": "string"
          }
        },
        "required": [
          "status",
          "timestamp",
          "version",
          "build_sha",
          "db_ok"
        ],
        "type": "object"
      },
      "Integration": {
        "properties": {
          "config": {
            "type": "object"
          },
          "id": {
            "type": "integer"
          },
          "last_error": {
            "type": "string"
          },
          "last_tested_at": {
            "type": [
              "string",
              "null"
            ]
          },
          "provider": {
            "type": "string"
          },
          "status": {
            "type": "string"
          }
        },
        "required": [
          "id",
          "provider",
          "status"
        ],
        "type": "object"
      },
      "IntegrationApiKey": {
        "properties": {
          "created_at": {
            "type": "string"
          },
          "created_by": {
            "type": [
              "integer",
              "null"
            ]
          },
          "id": {
            "type": "integer"
          },
          "name": {
            "type": "string"
          },
          "prefix": {
            "type": "string"
          },
          "revoked_at": {
            "type": [
              "string",
              "null"
            ]
          }
        },
        "required": [
          "id",
          "name",
          "prefix",
          "created_at"
        ],
        "type": "object"
      },
      "IntegrationApiKeyCreateRequest": {
        "properties": {
          "name": {
            "type": "string"
          }
        },
        "required": [
          "name"
        ],
        "type": "object"
      },
      "IntegrationApiKeyCreateResponse": {
        "properties": {
          "created_at": {
            "type": "string"
          },
          "id": {
            "type": "integer"
          },
          "name": {
            "type": "string"
          },
          "prefix": {
            "type": "string"
          },
          "revoked_at": {
            "type": [
              "string",
              "null"
            ]
          },
          "token": {
            "type": "string"
          }
        },
        "required": [
          "id",
          "name",
          "prefix",
          "created_at",
          "token"
        ],
        "type": "object"
      },
      "IntegrationApiKeyList": {
        "properties": {
          "results": {
            "items": {
              "$ref": "#/components/schemas/IntegrationApiKey"
            },
            "type": "array"
          }
        },
        "required": [
          "results"
        ],
        "type": "object"
      },
      "IntegrationApiKeyRevokeResponse": {
        "properties": {
          "id": {
            "type": "integer"
          },
          "revoked_at": {
            "type": [
              "string",
              "null"
            ]
          }
        },
        "required": [
          "id",
          "revoked_at"
        ],
        "type": "object"
      },
      "IntegrationConnectRequest": {
        "properties": {
          "api_key": {
            "type": "string"
          },
          "sender": {
            "type": "string"
          }
        },
        "required": [
          "api_key",
          "sender"
        ],
        "type": "object"
      },
      "IntegrationListResponse": {
        "properties": {
          "results": {
            "items": {
              "$ref": "#/components/schemas/Integration"
            },
            "type": "array"
          }
        },
        "required": [
          "results"
        ],
        "type": "object"
      },
      "IntegrationResponse": {
        "properties": {
          "id": {
            "type": "integer"
          },
          "provider": {
            "type": "string"
          },
          "status": {
            "type": "string"
          }
        },
        "required": [
          "id",
          "provider",
          "status"
        ],
        "type": "object"
      },
      "IntegrationTestResponse": {
        "properties": {
          "provider": {
            "type": "string"
          },
          "status": {
            "type": "string"
          },
          "tested_at": {
            "type": "string"
          }
        },
        "required": [
          "provider",
          "status",
          "tested_at"
        ],
        "type": "object"
      },
      "MeResponse": {
        "properties": {
          "email": {
            "type": [
              "string",
              "null"
            ]
          },
          "id": {
            "type": "integer"
          },
          "organization_id": {
            "type": "integer"
          },
          "role": {
            "type": "string"
          }
        },
        "required": [
          "id",
          "email",
          "organization_id",
          "role"
        ],
        "type": "object"
      },
      "Message": {
        "properties": {
          "body": {
            "type": "string"
          },
          "created_at": {
            "type": "string"
          },
          "id": {
            "type": "integer"
          },
          "read": {
            "type": "boolean"
          },
          "sender_id": {
            "type": [
              "integer",
              "null"
            ]
          }
        },
        "required": [
          "id",
          "body",
          "created_at"
        ],
        "type": "object"
      },
      "MessageCreateRequest": {
        "properties": {
          "body": {
            "type": "string"
          }
        },
        "required": [
          "body"
        ],
        "type": "object"
      },
      "MessageReadResponse": {
        "properties": {
          "id": {
            "type": "integer"
          },
          "read_at": {
            "type": "string"
          }
        },
        "required": [
          "id",
          "read_at"
        ],
        "type": "object"
      },
      "MetricsResponse": {
        "properties": {
          "last_duration_ms": {
            "type": "number"
          },
          "total_requests": {
            "type": "integer"
          }
        },
        "required": [
          "total_requests",
          "last_duration_ms"
        ],
        "type": "object"
      },
      "Notification": {
        "properties": {
          "body": {
            "type": "string"
          },
          "created_at": {
            "type": "string"
          },
          "id": {
            "type": "integer"
          },
          "kind": {
            "type": "string"
          },
          "read_at": {
            "type": [
              "string",
              "null"
            ]
          },
          "title": {
            "type": "string"
          },
          "unread": {
            "type": "boolean"
          },
          "url": {
            "type": "string"
          }
        },
        "required": [
          "id",
          "title",
          "unread",
          "created_at"
        ],
        "type": "object"
      },
      "NotificationList": {
        "properties": {
          "count": {
            "type": "integer"
          },
          "page": {
            "type": "integer"
          },
          "page_size": {
            "type": "integer"
          },
          "results": {
            "items": {
              "$ref": "#/components/schemas/Notification"
            },
            "type": "array"
          }
        },
        "required": [
          "results",
          "count",
          "page",
          "page_size"
        ],
        "type": "object"
      },
      "NotificationReadResponse": {
        "properties": {
          "id": {
            "type": "integer"
          },
          "read_at": {
            "type": [
              "string",
              "null"
            ]
          },
          "unread": {
            "type": "boolean"
          }
        },
        "required": [
          "id",
          "unread"
        ],
        "type": "object"
      },
      "OrgInvite": {
        "properties": {
          "created_at": {
            "type": "string"
          },
          "email": {
            "type": "string"
          },
          "expires_at": {
            "type": "string"
          },
          "id": {
            "type": "integer"
          },
          "role": {
            "type": "string"
          }
        },
        "required": [
          "id",
          "email",
          "role",
          "expires_at",
          "created_at"
        ],
        "type": "object"
      },
      "OrgInviteList": {
        "properties": {
          "results": {
            "items": {
              "$ref": "#/components/schemas/OrgInvite"
            },
            "type": "array"
          }
        },
        "required": [
          "results"
        ],
        "type": "object"
      },
      "OrgInviteRequest": {
        "properties": {
          "email": {
            "type": "string"
          },
          "expires_in_hours": {
            "type": "integer"
          },
          "role": {
            "type": "string"
          }
        },
        "required": [
          "email"
        ],
        "type": "object"
      },
      "OrgInviteResponse": {
        "properties": {
          "email": {
            "type": "string"
          },
          "expires_at": {
            "type": "string"
          },
          "id": {
            "type": "integer"
          },
          "role": {
            "type": "string"
          },
          "token": {
            "type": "string"
          }
        },
        "required": [
          "id",
          "email",
          "role",
          "expires_at",
          "token"
        ],
        "type": "object"
      },
      "OrgMember": {
        "properties": {
          "email": {
            "type": "string"
          },
          "id": {
            "type": "integer"
          },
          "is_active": {
            "type": "boolean"
          },
          "role": {
            "type": "string"
          },
          "user_id": {
            "type": "integer"
          },
          "username": {
            "type": "string"
          }
        },
        "required": [
          "id",
          "user_id",
          "email",
          "role",
          "is_active"
        ],
        "type": "object"
      },
      "OrgMemberDeactivateResponse": {
        "properties": {
          "id": {
            "type": "integer"
          },
          "is_active": {
            "type": "boolean"
          }
        },
        "required": [
          "id",
          "is_active"
        ],
        "type": "object"
      },
      "OrgMemberList": {
        "properties": {
          "results": {
            "items": {
              "$ref": "#/components/schemas/OrgMember"
            },
            "type": "array"
          }
        },
        "required": [
          "results"
        ],
        "type": "object"
      },
      "OrgMemberRoleRequest": {
        "properties": {
          "role": {
            "type": "string"
          }
        },
        "required": [
          "role"
        ],
        "type": "object"
      },
      "OrgMemberRoleResponse": {
        "properties": {
          "id": {
            "type": "integer"
          },
          "role": {
            "type": "string"
          }
        },
        "required": [
          "id",
          "role"
        ],
        "type": "object"
      },
      "OrgProfileUpdateRequest": {
        "properties": {
          "name": {
            "type": "string"
          }
        },
        "type": "object"
      },
      "OrgResponse": {
        "properties": {
          "id": {
            "type": "integer"
          },
          "name": {
            "type": "string"
          },
          "slug": {
            "type": "string"
          }
        },
        "required": [
          "id",
          "name",
          "slug"
        ],
        "type": "object"
      },
      "Patient": {
        "properties": {
          "address_line1": {
            "type": "string"
          },
          "address_line2": {
            "type": "string"
          },
          "city": {
            "type": "string"
          },
          "country": {
            "type": "string"
          },
          "created_at": {
            "type": "string"
          },
          "date_of_birth": {
            "type": [
              "string",
              "null"
            ]
          },
          "email": {
            "type": "string"
          },
          "family_name": {
            "type": "string"
          },
          "given_name": {
            "type": "string"
          },
          "id": {
            "type": "integer"
          },
          "nhs_number": {
            "type": [
              "string",
              "null"
            ]
          },
          "phone": {
            "type": "string"
          },
          "postal_code": {
            "type": "string"
          },
          "region": {
            "type": "string"
          },
          "updated_at": {
            "type": "string"
          }
        },
        "required": [
          "id",
          "given_name",
          "family_name",
          "created_at",
          "updated_at"
        ],
        "type": "object"
      },
      "PatientCreateRequest": {
        "properties": {
          "address_line1": {
            "type": "string"
          },
          "address_line2": {
            "type": "string"
          },
          "city": {
            "type": "string"
          },
          "country": {
            "type": "string"
          },
          "date_of_birth": {
            "type": "string"
          },
          "email": {
            "type": "string"
          },
          "family_name": {
            "type": "string"
          },
          "given_name": {
            "type": "string"
          },
          "nhs_number": {
            "type": "string"
          },
          "phone": {
            "type": "string"
          },
          "postal_code": {
            "type": "string"
          },
          "region": {
            "type": "string"
          }
        },
        "required": [
          "given_name",
          "family_name"
        ],
        "type": "object"
      },
      "PatientList": {
        "properties": {
          "count": {
            "type": "integer"
          },
          "page": {
            "type": "integer"
          },
          "page_size": {
            "type": "integer"
          },
          "results": {
            "items": {
              "$ref": "#/components/schemas/Patient"
            },
            "type": "array"
          }
        },
        "required": [
          "results",
          "count",
          "page",
          "page_size"
        ],
        "type": "object"
      },
      "PatientMergeRequest": {
        "properties": {
          "source_id": {
            "type": "integer"
          }
        },
        "required": [
          "source_id"
        ],
        "type": "object"
      },
      "PatientMergeResponse": {
        "properties": {
          "id": {
            "type": "integer"
          },
          "merged_source_id": {
            "type": "integer"
          }
        },
        "required": [
          "id",
          "merged_source_id"
        ],
        "type": "object"
      },
      "PortalAcceptInviteRequest": {
        "properties": {
          "token": {
            "type": "string"
          }
        },
        "required": [
          "token"
        ],
        "type": "object"
      },
      "PortalAuthResponse": {
        "properties": {
          "expires_at": {
            "type": "string"
          },
          "organization_id": {
            "type": "integer"
          },
          "patient_id": {
            "type": "integer"
          },
          "role": {
            "type": "string"
          },
          "token": {
            "type": "string"
          }
        },
        "required": [
          "token",
          "role",
          "patient_id",
          "organization_id",
          "expires_at"
        ],
        "type": "object"
      },
      "PortalEpisode": {
        "properties": {
          "created_at": {
            "type": "string"
          },
          "description": {
            "type": "string"
          },
          "id": {
            "type": "integer"
          },
          "status": {
            "type": "string"
          },
          "title": {
            "type": "string"
          },
          "updated_at": {
            "type": "string"
          }
        },
        "required": [
          "id",
          "title",
          "status",
          "created_at",
          "updated_at"
        ],
        "type": "object"
      },
      "PortalEpisodeDetail": {
        "properties": {
          "episode": {
            "$ref": "#/components/schemas/PortalEpisode"
          },
          "timeline": {
            "items": {
              "$ref": "#/components/schemas/PortalEpisodeEvent"
            },
            "type": "array"
          }
        },
        "required": [
          "episode",
          "timeline"
        ],
        "type": "object"
      },
      "PortalEpisodeEvent": {
        "properties": {
          "created_at": {
            "type": "string"
          },
          "event_type": {
            "type": "string"
          },
          "from_state": {
            "type": "string"
          },
          "id": {
            "type": "integer"
          },
          "note": {
            "type": "string"
          },
          "to_state": {
            "type": "string"
          }
        },
        "required": [
          "id",
          "event_type",
          "created_at"
        ],
        "type": "object"
      },
      "PortalEpisodeList": {
        "properties": {
          "results": {
            "items": {
              "$ref": "#/components/schemas/PortalEpisode"
            },
            "type": "array"
          }
        },
        "required": [
          "results"
        ],
        "type": "object"
      },
      "PortalLoginRequest": {
        "properties": {
          "email": {
            "type": "string"
          },
          "phone": {
            "type": "string"
          }
        },
        "type": "object"
      },
      "PortalMeResponse": {
        "properties": {
          "email": {
            "type": "string"
          },
          "family_name": {
            "type": "string"
          },
          "given_name": {
            "type": "string"
          },
          "organization_id": {
            "type": "integer"
          },
          "patient_id": {
            "type": "integer"
          },
          "phone": {
            "type": "string"
          },
          "role": {
            "type": "string"
          }
        },
        "required": [
          "patient_id",
          "organization_id",
          "role"
        ],
        "type": "object"
      },
      "PortalNotification": {
        "properties": {
          "body": {
            "type": "string"
          },
          "created_at": {
            "type": "string"
          },
          "id": {
            "type": "integer"
          },
          "kind": {
            "type": "string"
          },
          "read_at": {
            "type": [
              "string",
              "null"
            ]
          },
          "title": {
            "type": "string"
          },
          "unread": {
            "type": "boolean"
          },
          "url": {
            "type": "string"
          }
        },
        "required": [
          "id",
          "title",
          "unread",
          "created_at"
        ],
        "type": "object"
      },
      "PortalNotificationList": {
        "properties": {
          "count": {
            "type": "integer"
          },
          "page": {
            "type": "integer"
          },
          "page_size": {
            "type": "integer"
          },
          "results": {
            "items": {
              "$ref": "#/components/schemas/PortalNotification"
            },
            "type": "array"
          }
        },
        "required": [
          "results",
          "count",
          "page",
          "page_size"
        ],
        "type": "object"
      },
      "PortalNotificationReadResponse": {
        "properties": {
          "id": {
            "type": "integer"
          },
          "read_at": {
            "type": [
              "string",
              "null"
            ]
          },
          "unread": {
            "type": "boolean"
          }
        },
        "required": [
          "id",
          "unread"
        ],
        "type": "object"
      },
      "ReportJob": {
        "properties": {
          "artifact_path": {
            "type": [
              "string",
              "null"
            ]
          },
          "id": {
            "type": "integer"
          },
          "interval_days": {
            "type": "integer"
          },
          "last_run_at": {
            "type": [
              "string",
              "null"
            ]
          },
          "name": {
            "type": "string"
          },
          "next_run_at": {
            "type": [
              "string",
              "null"
            ]
          },
          "report_type": {
            "type": "string"
          },
          "status": {
            "type": "string"
          }
        },
        "required": [
          "id",
          "name",
          "report_type",
          "status",
          "interval_days"
        ],
        "type": "object"
      },
      "ReportJobCreateRequest": {
        "properties": {
          "interval_days": {
            "type": "integer"
          },
          "name": {
            "type": "string"
          },
          "next_run_at": {
            "type": "string"
          },
          "params": {
            "type": "object"
          },
          "report_type": {
            "type": "string"
          }
        },
        "required": [
          "name",
          "report_type"
        ],
        "type": "object"
      },
      "ReportJobList": {
        "properties": {
          "results": {
            "items": {
              "$ref": "#/components/schemas/ReportJob"
            },
            "type": "array"
          }
        },
        "required": [
          "results"
        ],
        "type": "object"
      },
      "SubmissionRecord": {
        "properties": {
          "due_date": {
            "type": "string"
          },
          "episode_id": {
            "type": [
              "integer",
              "null"
            ]
          },
          "id": {
            "type": "integer"
          },
          "notes": {
            "type": "string"
          },
          "status": {
            "type": "string"
          },
          "submitted_at": {
            "type": [
              "string",
              "null"
            ]
          }
        },
        "required": [
          "id",
          "due_date",
          "status"
        ],
        "type": "object"
      },
      "SubmissionRecordCreateRequest": {
        "properties": {
          "due_date": {
            "type": "string"
          },
          "episode_id": {
            "type": "integer"
          },
          "notes": {
            "type": "string"
          },
          "status": {
            "type": "string"
          },
          "submitted_at": {
            "type": "string"
          }
        },
        "required": [
          "due_date"
        ],
        "type": "object"
      },
      "SubmissionRecordList": {
        "properties": {
          "results": {
            "items": {
              "$ref": "#/components/schemas/SubmissionRecord"
            },
            "type": "array"
          }
        },
        "required": [
          "results"
        ],
        "type": "object"
      },
      "WorkItem": {
        "properties": {
          "assigned_to": {
            "type": [
              "integer",
              "null"
            ]
          },
          "completed_at": {
            "type": [
              "string",
              "null"
            ]
          },
          "created_at": {
            "type": "string"
          },
          "created_by": {
            "type": [
              "integer",
              "null"
            ]
          },
          "due_at": {
            "type": [
              "string",
              "null"
            ]
          },
          "episode_id": {
            "type": [
              "integer",
              "null"
            ]
          },
          "id": {
            "type": "integer"
          },
          "kind": {
            "type": "string"
          },
          "sla_breach_at": {
            "type": [
              "string",
              "null"
            ]
          },
          "sla_breached": {
            "type": "boolean"
          },
          "status": {
            "type": "string"
          }
        },
        "required": [
          "id",
          "kind",
          "status",
          "created_at",
          "sla_breached"
        ],
        "type": "object"
      },
      "WorkItemAssignRequest": {
        "properties": {
          "assigned_to_id": {
            "type": "integer"
          }
        },
        "type": "object"
      },
      "WorkItemAssignResponse": {
        "properties": {
          "assigned_to": {
            "type": [
              "integer",
              "null"
            ]
          },
          "id": {
            "type": "integer"
          },
          "status": {
            "type": "string"
          }
        },
        "required": [
          "id",
          "status",
          "assigned_to"
        ],
        "type": "object"
      },
      "WorkItemCompleteResponse": {
        "properties": {
          "id": {
            "type": "integer"
          },
          "status": {
            "type": "string"
          }
        },
        "required": [
          "id",
          "status"
        ],
        "type": "object"
      },
      "WorkItemListResponse": {
        "properties": {
          "count": {
            "type": "integer"
          },
          "page": {
            "type": "integer"
          },
          "page_size": {
            "type": "integer"
          },
          "results": {
            "items": {
              "$ref": "#/components/schemas/WorkItem"
            },
            "type": "array"
          }
        },
        "required": [
          "results",
          "count",
          "page",
          "page_size"
        ],
        "type": "object"
      }
    },
    "securitySchemes": {
      "cookieAuth": {
        "in": "cookie",
        "name": "sessionid",
        "type": "apiKey"
      }
    }
  },
  "info": {
    "title": "CareOS API",
    "version": "0.1.0"
  },
  "openapi": "3.0.3",
  "paths": {
    "/ai-review-items/": {
      "get": {
        "parameters": [
          {
            "in": "query",
            "name": "status",
            "schema": {
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "pending_only",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AIReviewItemList"
                }
              }
            },
            "description": "OK"
          },
          "403": {
            "description": "Forbidden"
          }
        },
        "security": [
          {
            "cookieAuth": []
          }
        ],
        "summary": "List AI review items"
      }
    },
    "/ai-review-items/{item_id}/decide/": {
      "post": {
        "parameters": [
          {
            "in": "path",
            "name": "item_id",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/AIReviewItemDecision"
              }
            }
          }
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AIReviewItemDecisionResponse"
                }
              }
            },
            "description": "OK"
          },
          "400": {
            "description": "Bad request"
          },
          "403": {
            "description": "Forbidden"
          },
          "404": {
            "description": "Not found"
          }
        },
        "security": [
          {
            "cookieAuth": []
          }
        ],
        "summary": "Decide AI review item"
      }
    },
    "/ai/review/": {
      "get": {
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AIReviewListResponse"
                }
              }
            },
            "description": "OK"
          },
          "403": {
            "description": "Forbidden"
          }
        },
        "security": [
          {
            "cookieAuth": []
          }
        ],
        "summary": "List AI review requests"
      },
      "post": {
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/AIReviewCreateRequest"
              }
            }
          }
        },
        "responses": {
          "201": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AIReviewCreateResponse"
                }
              }
            },
            "description": "Created"
          },
          "400": {
            "description": "Bad request"
          },
          "403": {
            "description": "Forbidden"
          }
        },
        "security": [
          {
            "cookieAuth": []
          }
        ],
        "summary": "Create AI review request"
      }
    },
    "/ai/review/{review_id}/": {
      "get": {
        "parameters": [
          {
            "in": "path",
            "name": "review_id",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AIReviewDetail"
                }
              }
            },
            "description": "OK"
          },
          "403": {
            "description": "Forbidden"
          },
          "404": {
            "description": "Not found"
          }
        },
        "security": [
          {
            "cookieAuth": []
          }
        ],
        "summary": "AI review detail"
      }
    },
    "/audit-events/": {
      "get": {
        "parameters": [
          {
            "in": "query",
            "name": "actor",
            "schema": {
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "action",
            "schema": {
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "resource",
            "schema": {
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "target_type",
            "schema": {
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "target_id",
            "schema": {
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "from",
            "schema": {
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "to",
            "schema": {
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "start",
            "schema": {
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "end",
            "schema": {
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "page",
            "schema": {
              "type": "integer"
            }
          },
          {
            "in": "query",
            "name": "page_size",
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AuditEventList"
                }
              }
            },
            "description": "OK"
          },
          "403": {
            "description": "Forbidden"
          }
        },
        "security": [
          {
            "cookieAuth": []
          }
        ],
        "summary": "Audit events"
      }
    },
    "/auth/admin/audit/": {
      "post": {
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/AdminAuthAuditRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK"
          },
          "400": {
            "description": "Bad request"
          },
          "403": {
            "description": "Unauthorized"
          },
          "404": {
            "description": "Not found"
          }
        },
        "summary": "Admin auth audit event"
      }
    },
    "/billing/checkout-session/": {
      "post": {
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/BillingCheckoutRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BillingCheckoutResponse"
                }
              }
            },
            "description": "OK"
          },
          "400": {
            "description": "Bad request"
          },
          "403": {
            "description": "Forbidden"
          }
        },
        "security": [
          {
            "cookieAuth": []
          }
        ],
        "summary": "Create checkout session"
      }
    },
    "/billing/plans/": {
      "get": {
        "parameters": [
          {
            "in": "query",
            "name": "currency",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BillingPlanList"
                }
              }
            },
            "description": "OK"
          },
          "403": {
            "description": "Forbidden"
          }
        },
        "security": [
          {
            "cookieAuth": []
          }
        ],
        "summary": "Billing plans"
      }
    },
    "/billing/subscription/": {
      "get": {
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BillingSubscription"
                }
              }
            },
            "description": "OK"
          },
          "403": {
            "description": "Forbidden"
          }
        },
        "security": [
          {
            "cookieAuth": []
          }
        ],
        "summary": "Billing subscription"
      }
    },
    "/billing/webhook/": {
      "post": {
        "responses": {
          "200": {
            "description": "OK"
          },
          "400": {
            "description": "Bad request"
          }
        },
        "summary": "Billing webhook"
      }
    },
    "/compliance/bundles/{bundle_id}/download/": {
      "get": {
        "parameters": [
          {
            "in": "path",
            "name": "bundle_id",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          },
          "403": {
            "description": "Forbidden"
          },
          "404": {
            "description": "Not found"
          }
        },
        "security": [
          {
            "cookieAuth": []
          }
        ],
        "summary": "Download compliance bundle"
      }
    },
    "/compliance/reports/": {
      "get": {
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ReportJobList"
                }
              }
            },
            "description": "OK"
          },
          "403": {
            "description": "Forbidden"
          }
        },
        "security": [
          {
            "cookieAuth": []
          }
        ],
        "summary": "List report jobs"
      },
      "post": {
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ReportJobCreateRequest"
              }
            }
          }
        },
        "responses": {
          "201": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ReportJob"
                }
              }
            },
            "description": "Created"
          },
          "400": {
            "description": "Bad request"
          },
          "403": {
            "description": "Forbidden"
          }
        },
        "security": [
          {
            "cookieAuth": []
          }
        ],
        "summary": "Create report job"
      }
    },
    "/compliance/reports/{job_id}/run/": {
      "post": {
        "parameters": [
          {
            "in": "path",
            "name": "job_id",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ReportJob"
                }
              }
            },
            "description": "OK"
          },
          "403": {
            "description": "Forbidden"
          },
          "404": {
            "description": "Not found"
          }
        },
        "security": [
          {
            "cookieAuth": []
          }
        ],
        "summary": "Run report job"
      }
    },
    "/compliance/submissions/": {
      "get": {
        "parameters": [
          {
            "in": "query",
            "name": "episode_id",
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SubmissionRecordList"
                }
              }
            },
            "description": "OK"
          },
          "403": {
            "description": "Forbidden"
          }
        },
        "security": [
          {
            "cookieAuth": []
          }
        ],
        "summary": "List submission records"
      },
      "post": {
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SubmissionRecordCreateRequest"
              }
            }
          }
        },
        "responses": {
          "201": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SubmissionRecord"
                }
              }
            },
            "description": "Created"
          },
          "400": {
            "description": "Bad request"
          },
          "403": {
            "description": "Forbidden"
          }
        },
        "security": [
          {
            "cookieAuth": []
          }
        ],
        "summary": "Create submission record"
      }
    },
    "/conversations/": {
      "get": {
        "parameters": [
          {
            "in": "query",
            "name": "episode_id",
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ConversationListResponse"
                }
              }
            },
            "description": "OK"
          },
          "403": {
            "description": "Forbidden"
          }
        },
        "security": [
          {
            "cookieAuth": []
          }
        ],
        "summary": "List conversations"
      },
      "post": {
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ConversationCreateRequest"
              }
            }
          }
        },
        "responses": {
          "201": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Conversation"
                }
              }
            },
            "description": "Created"
          },
          "400": {
            "description": "Bad request"
          },
          "403": {
            "description": "Forbidden"
          }
        },
        "security": [
          {
            "cookieAuth": []
          }
        ],
        "summary": "Create conversation"
      }
    },
    "/conversations/{conversation_id}/": {
      "get": {
        "parameters": [
          {
            "in": "path",
            "name": "conversation_id",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ConversationDetailResponse"
                }
              }
            },
            "description": "OK"
          },
          "403": {
            "description": "Forbidden"
          },
          "404": {
            "description": "Not found"
          }
        },
        "security": [
          {
            "cookieAuth": []
          }
        ],
        "summary": "Conversation detail"
      }
    },
    "/conversations/{conversation_id}/messages/": {
      "post": {
        "parameters": [
          {
            "in": "path",
            "name": "conversation_id",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/MessageCreateRequest"
              }
            }
          }
        },
        "responses": {
          "201": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              }
            },
            "description": "Created"
          },
          "400": {
            "description": "Bad request"
          },
          "403": {
            "description": "Forbidden"
          },
          "404": {
            "description": "Not found"
          }
        },
        "security": [
          {
            "cookieAuth": []
          }
        ],
        "summary": "Send message"
      }
    },
    "/episodes/": {
      "get": {
        "parameters": [
          {
            "in": "query",
            "name": "status",
            "schema": {
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "assigned_to",
            "schema": {
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "created_by",
            "schema": {
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "search",
            "schema": {
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "page",
            "schema": {
              "type": "integer"
            }
          },
          {
            "in": "query",
            "name": "page_size",
            "schema": {
              "type": "integer"
            }
          },
          {
            "in": "query",
            "name": "limit",
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/EpisodeList"
                }
              }
            },
            "description": "OK"
          },
          "403": {
            "description": "Forbidden"
          }
        },
        "security": [
          {
            "cookieAuth": []
          }
        ],
        "summary": "List episodes"
      },
      "post": {
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/EpisodeCreateRequest"
              }
            }
          }
        },
        "responses": {
          "201": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Episode"
                }
              }
            },
            "description": "Created"
          },
          "400": {
            "description": "Bad request"
          },
          "403": {
            "description": "Forbidden"
          }
        },
        "security": [
          {
            "cookieAuth": []
          }
        ],
        "summary": "Create episode"
      }
    },
    "/episodes/{episode_id}/": {
      "get": {
        "parameters": [
          {
            "in": "path",
            "name": "episode_id",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Episode"
                }
              }
            },
            "description": "OK"
          },
          "404": {
            "description": "Not found"
          }
        },
        "security": [
          {
            "cookieAuth": []
          }
        ],
        "summary": "Episode detail"
      }
    },
    "/episodes/{episode_id}/compliance/bundles/": {
      "get": {
        "parameters": [
          {
            "in": "path",
            "name": "episode_id",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/EvidenceBundleList"
                }
              }
            },
            "description": "OK"
          },
          "403": {
            "description": "Forbidden"
          },
          "404": {
            "description": "Not found"
          }
        },
        "security": [
          {
            "cookieAuth": []
          }
        ],
        "summary": "List compliance bundles"
      },
      "post": {
        "parameters": [
          {
            "in": "path",
            "name": "episode_id",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "201": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/EvidenceBundle"
                }
              }
            },
            "description": "Created"
          },
          "403": {
            "description": "Forbidden"
          },
          "404": {
            "description": "Not found"
          }
        },
        "security": [
          {
            "cookieAuth": []
          }
        ],
        "summary": "Generate compliance bundle"
      }
    },
    "/episodes/{episode_id}/evidence/": {
      "get": {
        "parameters": [
          {
            "in": "path",
            "name": "episode_id",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/EvidenceListResponse"
                }
              }
            },
            "description": "OK"
          },
          "403": {
            "description": "Forbidden"
          },
          "404": {
            "description": "Not found"
          }
        },
        "security": [
          {
            "cookieAuth": []
          }
        ],
        "summary": "List episode evidence"
      },
      "post": {
        "parameters": [
          {
            "in": "path",
            "name": "episode_id",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "requestBody": {
          "content": {
            "multipart/form-data": {
              "schema": {
                "$ref": "#/components/schemas/EvidenceCreateRequest"
              }
            }
          }
        },
        "responses": {
          "201": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/EvidenceItem"
                }
              }
            },
            "description": "Created"
          },
          "400": {
            "description": "Bad request"
          },
          "403": {
            "description": "Forbidden"
          },
          "404": {
            "description": "Not found"
          }
        },
        "security": [
          {
            "cookieAuth": []
          }
        ],
        "summary": "Create episode evidence"
      }
    },
    "/episodes/{episode_id}/evidence/{evidence_id}/": {
      "post": {
        "parameters": [
          {
            "in": "path",
            "name": "episode_id",
            "required": true,
            "schema": {
              "type": "integer"
            }
          },
          {
            "in": "path",
            "name": "evidence_id",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/EvidenceLinkResponse"
                }
              }
            },
            "description": "OK"
          },
          "403": {
            "description": "Forbidden"
          },
          "404": {
            "description": "Not found"
          }
        },
        "security": [
          {
            "cookieAuth": []
          }
        ],
        "summary": "Link evidence to episode"
      }
    },
    "/episodes/{episode_id}/timeline/": {
      "get": {
        "parameters": [
          {
            "in": "path",
            "name": "episode_id",
            "required": true,
            "schema": {
              "type": "integer"
            }
          },
          {
            "in": "query",
            "name": "page",
            "schema": {
              "type": "integer"
            }
          },
          {
            "in": "query",
            "name": "page_size",
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/EpisodeTimelineResponse"
                }
              }
            },
            "description": "OK"
          },
          "404": {
            "description": "Not found"
          }
        },
        "security": [
          {
            "cookieAuth": []
          }
        ],
        "summary": "Episode timeline"
      }
    },
    "/episodes/{episode_id}/transition/": {
      "post": {
        "parameters": [
          {
            "in": "path",
            "name": "episode_id",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/EpisodeTransitionRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/EpisodeTransitionResponse"
                }
              }
            },
            "description": "OK"
          },
          "400": {
            "description": "Bad request"
          },
          "404": {
            "description": "Not found"
          }
        },
        "security": [
          {
            "cookieAuth": []
          }
        ],
        "summary": "Transition episode"
      }
    },
    "/evidence/": {
      "get": {
        "parameters": [
          {
            "in": "query",
            "name": "episode",
            "schema": {
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "patient",
            "schema": {
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "kind",
            "schema": {
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "tags",
            "schema": {
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "page",
            "schema": {
              "type": "integer"
            }
          },
          {
            "in": "query",
            "name": "page_size",
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/EvidenceListResponse"
                }
              }
            },
            "description": "OK"
          },
          "403": {
            "description": "Forbidden"
          }
        },
        "security": [
          {
            "cookieAuth": []
          }
        ],
        "summary": "List evidence"
      },
      "post": {
        "requestBody": {
          "content": {
            "multipart/form-data": {
              "schema": {
                "$ref": "#/components/schemas/EvidenceCreateRequest"
              }
            }
          }
        },
        "responses": {
          "201": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/EvidenceItem"
                }
              }
            },
            "description": "Created"
          },
          "400": {
            "description": "Bad request"
          },
          "403": {
            "description": "Forbidden"
          }
        },
        "security": [
          {
            "cookieAuth": []
          }
        ],
        "summary": "Create evidence"
      }
    },
    "/evidence/{evidence_id}/": {
      "get": {
        "parameters": [
          {
            "in": "path",
            "name": "evidence_id",
            "required": true,
            "schema": {
              "type": "integer"
            }
          },
          {
            "description": "Set to 1 to download the file",
            "in": "query",
            "name": "download",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/EvidenceItem"
                }
              }
            },
            "description": "OK"
          },
          "404": {
            "description": "Not found"
          }
        },
        "security": [
          {
            "cookieAuth": []
          }
        ],
        "summary": "Evidence detail"
      }
    },
    "/evidence/{evidence_id}/events/": {
      "get": {
        "parameters": [
          {
            "in": "path",
            "name": "evidence_id",
            "required": true,
            "schema": {
              "type": "integer"
            }
          },
          {
            "in": "query",
            "name": "page",
            "schema": {
              "type": "integer"
            }
          },
          {
            "in": "query",
            "name": "page_size",
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/EvidenceEventList"
                }
              }
            },
            "description": "OK"
          },
          "403": {
            "description": "Forbidden"
          },
          "404": {
            "description": "Not found"
          }
        },
        "security": [
          {
            "cookieAuth": []
          }
        ],
        "summary": "Evidence events"
      }
    },
    "/evidence/{evidence_id}/link/": {
      "post": {
        "parameters": [
          {
            "in": "path",
            "name": "evidence_id",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/EvidenceLinkRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/EvidenceLinkResponse"
                }
              }
            },
            "description": "OK"
          },
          "400": {
            "description": "Bad request"
          },
          "403": {
            "description": "Forbidden"
          },
          "404": {
            "description": "Not found"
          }
        },
        "security": [
          {
            "cookieAuth": []
          }
        ],
        "summary": "Link evidence"
      }
    },
    "/evidence/{evidence_id}/tag/": {
      "post": {
        "parameters": [
          {
            "in": "path",
            "name": "evidence_id",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/EvidenceTagRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/EvidenceTagResponse"
                }
              }
            },
            "description": "OK"
          },
          "400": {
            "description": "Bad request"
          },
          "403": {
            "description": "Forbidden"
          },
          "404": {
            "description": "Not found"
          }
        },
        "security": [
          {
            "cookieAuth": []
          }
        ],
        "summary": "Tag evidence"
      }
    },
    "/exports/": {
      "get": {
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ExportJobList"
                }
              }
            },
            "description": "OK"
          },
          "403": {
            "description": "Forbidden"
          }
        },
        "security": [
          {
            "cookieAuth": []
          }
        ],
        "summary": "List exports"
      },
      "post": {
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ExportJobRequest"
              }
            }
          }
        },
        "responses": {
          "201": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ExportJob"
                }
              }
            },
            "description": "Created"
          },
          "400": {
            "description": "Bad request"
          },
          "403": {
            "description": "Forbidden"
          }
        },
        "security": [
          {
            "cookieAuth": []
          }
        ],
        "summary": "Request export"
      }
    },
    "/exports/{export_id}/": {
      "get": {
        "parameters": [
          {
            "in": "path",
            "name": "export_id",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ExportJob"
                }
              }
            },
            "description": "OK"
          },
          "403": {
            "description": "Forbidden"
          },
          "404": {
            "description": "Not found"
          }
        },
        "security": [
          {
            "cookieAuth": []
          }
        ],
        "summary": "Export detail"
      }
    },
    "/exports/{export_id}/download/": {
      "get": {
        "parameters": [
          {
            "in": "path",
            "name": "export_id",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          },
          "403": {
            "description": "Forbidden"
          },
          "404": {
            "description": "Not found"
          }
        },
        "security": [
          {
            "cookieAuth": []
          }
        ],
        "summary": "Download export"
      }
    },
    "/health/": {
      "get": {
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HealthResponse"
                }
              }
            },
            "description": "OK"
          }
        },
        "summary": "Health check"
      }
    },
    "/healthz/": {
      "get": {
        "responses": {
          "200": {
            "description": "OK"
          }
        },
        "summary": "Health check"
      }
    },
    "/integrations/": {
      "get": {
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/IntegrationListResponse"
                }
              }
            },
            "description": "OK"
          },
          "403": {
            "description": "Forbidden"
          }
        },
        "security": [
          {
            "cookieAuth": []
          }
        ],
        "summary": "List integrations"
      }
    },
    "/integrations/api-keys/": {
      "get": {
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/IntegrationApiKeyList"
                }
              }
            },
            "description": "OK"
          },
          "403": {
            "description": "Forbidden"
          }
        },
        "security": [
          {
            "cookieAuth": []
          }
        ],
        "summary": "List integration API keys"
      },
      "post": {
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/IntegrationApiKeyCreateRequest"
              }
            }
          }
        },
        "responses": {
          "201": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/IntegrationApiKeyCreateResponse"
                }
              }
            },
            "description": "Created"
          },
          "400": {
            "description": "Bad request"
          },
          "403": {
            "description": "Forbidden"
          }
        },
        "security": [
          {
            "cookieAuth": []
          }
        ],
        "summary": "Create integration API key"
      }
    },
    "/integrations/api-keys/{key_id}/revoke/": {
      "post": {
        "parameters": [
          {
            "in": "path",
            "name": "key_id",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/IntegrationApiKeyRevokeResponse"
                }
              }
            },
            "description": "OK"
          },
          "403": {
            "description": "Forbidden"
          },
          "404": {
            "description": "Not found"
          }
        },
        "security": [
          {
            "cookieAuth": []
          }
        ],
        "summary": "Revoke integration API key"
      }
    },
    "/integrations/{provider}/connect/": {
      "post": {
        "parameters": [
          {
            "in": "path",
            "name": "provider",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/IntegrationConnectRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/IntegrationResponse"
                }
              }
            },
            "description": "OK"
          },
          "400": {
            "description": "Bad request"
          },
          "403": {
            "description": "Forbidden"
          }
        },
        "security": [
          {
            "cookieAuth": []
          }
        ],
        "summary": "Connect integration"
      }
    },
    "/integrations/{provider}/disconnect/": {
      "post": {
        "parameters": [
          {
            "in": "path",
            "name": "provider",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/IntegrationResponse"
                }
              }
            },
            "description": "OK"
          },
          "403": {
            "description": "Forbidden"
          },
          "404": {
            "description": "Not found"
          }
        },
        "security": [
          {
            "cookieAuth": []
          }
        ],
        "summary": "Disconnect integration"
      }
    },
    "/integrations/{provider}/test/": {
      "post": {
        "parameters": [
          {
            "in": "path",
            "name": "provider",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/IntegrationTestResponse"
                }
              }
            },
            "description": "OK"
          },
          "403": {
            "description": "Forbidden"
          },
          "404": {
            "description": "Not found"
          }
        },
        "security": [
          {
            "cookieAuth": []
          }
        ],
        "summary": "Test integration"
      }
    },
    "/me/": {
      "get": {
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MeResponse"
                }
              }
            },
            "description": "OK"
          }
        },
        "security": [
          {
            "cookieAuth": []
          }
        ],
        "summary": "Current user"
      }
    },
    "/messages/{message_id}/read/": {
      "post": {
        "parameters": [
          {
            "in": "path",
            "name": "message_id",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MessageReadResponse"
                }
              }
            },
            "description": "OK"
          },
          "403": {
            "description": "Forbidden"
          },
          "404": {
            "description": "Not found"
          }
        },
        "security": [
          {
            "cookieAuth": []
          }
        ],
        "summary": "Mark message read"
      }
    },
    "/metrics/": {
      "get": {
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MetricsResponse"
                }
              }
            },
            "description": "OK"
          }
        },
        "summary": "Metrics snapshot"
      }
    },
    "/notifications/": {
      "get": {
        "parameters": [
          {
            "in": "query",
            "name": "unread_only",
            "schema": {
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "page",
            "schema": {
              "type": "integer"
            }
          },
          {
            "in": "query",
            "name": "page_size",
            "schema": {
              "type": "integer"
            }
          },
          {
            "in": "query",
            "name": "limit",
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/NotificationList"
                }
              }
            },
            "description": "OK"
          },
          "403": {
            "description": "Forbidden"
          }
        },
        "security": [
          {
            "cookieAuth": []
          }
        ],
        "summary": "List notifications"
      }
    },
    "/notifications/{notification_id}/read/": {
      "post": {
        "parameters": [
          {
            "in": "path",
            "name": "notification_id",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/NotificationReadResponse"
                }
              }
            },
            "description": "OK"
          },
          "403": {
            "description": "Forbidden"
          },
          "404": {
            "description": "Not found"
          }
        },
        "security": [
          {
            "cookieAuth": []
          }
        ],
        "summary": "Mark notification read"
      }
    },
    "/orgs/current/": {
      "get": {
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/OrgResponse"
                }
              }
            },
            "description": "OK"
          }
        },
        "security": [
          {
            "cookieAuth": []
          }
        ],
        "summary": "Current organization"
      },
      "patch": {
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/OrgProfileUpdateRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/OrgResponse"
                }
              }
            },
            "description": "OK"
          },
          "403": {
            "description": "Forbidden"
          }
        },
        "security": [
          {
            "cookieAuth": []
          }
        ],
        "summary": "Update organization profile"
      }
    },
    "/orgs/invites/": {
      "get": {
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/OrgInviteList"
                }
              }
            },
            "description": "OK"
          },
          "403": {
            "description": "Forbidden"
          }
        },
        "security": [
          {
            "cookieAuth": []
          }
        ],
        "summary": "List organization invites"
      },
      "post": {
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/OrgInviteRequest"
              }
            }
          }
        },
        "responses": {
          "201": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/OrgInviteResponse"
                }
              }
            },
            "description": "Created"
          },
          "400": {
            "description": "Bad request"
          },
          "403": {
            "description": "Forbidden"
          }
        },
        "security": [
          {
            "cookieAuth": []
          }
        ],
        "summary": "Create organization invite"
      }
    },
    "/orgs/members/": {
      "get": {
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/OrgMemberList"
                }
              }
            },
            "description": "OK"
          },
          "403": {
            "description": "Forbidden"
          }
        },
        "security": [
          {
            "cookieAuth": []
          }
        ],
        "summary": "List organization members"
      }
    },
    "/orgs/members/{member_id}/deactivate/": {
      "post": {
        "parameters": [
          {
            "in": "path",
            "name": "member_id",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/OrgMemberDeactivateResponse"
                }
              }
            },
            "description": "OK"
          },
          "403": {
            "description": "Forbidden"
          },
          "404": {
            "description": "Not found"
          }
        },
        "security": [
          {
            "cookieAuth": []
          }
        ],
        "summary": "Deactivate member"
      }
    },
    "/orgs/members/{member_id}/role/": {
      "post": {
        "parameters": [
          {
            "in": "path",
            "name": "member_id",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/OrgMemberRoleRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/OrgMemberRoleResponse"
                }
              }
            },
            "description": "OK"
          },
          "400": {
            "description": "Bad request"
          },
          "403": {
            "description": "Forbidden"
          },
          "404": {
            "description": "Not found"
          }
        },
        "security": [
          {
            "cookieAuth": []
          }
        ],
        "summary": "Change member role"
      }
    },
    "/patients/": {
      "get": {
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PatientList"
                }
              }
            },
            "description": "OK"
          },
          "403": {
            "description": "Forbidden"
          }
        },
        "security": [
          {
            "cookieAuth": []
          }
        ],
        "summary": "List patients"
      },
      "post": {
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/PatientCreateRequest"
              }
            }
          }
        },
        "responses": {
          "201": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Patient"
                }
              }
            },
            "description": "Created"
          },
          "400": {
            "description": "Bad request"
          },
          "403": {
            "description": "Forbidden"
          }
        },
        "security": [
          {
            "cookieAuth": []
          }
        ],
        "summary": "Create patient"
      }
    },
    "/patients/{patient_id}/": {
      "get": {
        "parameters": [
          {
            "in": "path",
            "name": "patient_id",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Patient"
                }
              }
            },
            "description": "OK"
          },
          "404": {
            "description": "Not found"
          }
        },
        "security": [
          {
            "cookieAuth": []
          }
        ],
        "summary": "Patient detail"
      }
    },
    "/patients/{patient_id}/merge/": {
      "post": {
        "parameters": [
          {
            "in": "path",
            "name": "patient_id",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/PatientMergeRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PatientMergeResponse"
                }
              }
            },
            "description": "OK"
          },
          "400": {
            "description": "Bad request"
          },
          "403": {
            "description": "Forbidden"
          },
          "404": {
            "description": "Not found"
          }
        },
        "security": [
          {
            "cookieAuth": []
          }
        ],
        "summary": "Merge patient"
      }
    },
    "/portal/auth/accept-invite/": {
      "post": {
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/PortalAcceptInviteRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PortalAuthResponse"
                }
              }
            },
            "description": "OK"
          },
          "400": {
            "description": "Bad request"
          },
          "404": {
            "description": "Not found"
          }
        },
        "summary": "Accept portal invite"
      }
    },
    "/portal/auth/login/": {
      "post": {
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/PortalLoginRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PortalAuthResponse"
                }
              }
            },
            "description": "OK"
          },
          "400": {
            "description": "Bad request"
          },
          "404": {
            "description": "Not found"
          }
        },
        "summary": "Portal login"
      }
    },
    "/portal/episodes/": {
      "get": {
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PortalEpisodeList"
                }
              }
            },
            "description": "OK"
          },
          "401": {
            "description": "Unauthorized"
          }
        },
        "summary": "Portal episodes"
      }
    },
    "/portal/episodes/{episode_id}/": {
      "get": {
        "parameters": [
          {
            "in": "path",
            "name": "episode_id",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PortalEpisodeDetail"
                }
              }
            },
            "description": "OK"
          },
          "401": {
            "description": "Unauthorized"
          },
          "404": {
            "description": "Not found"
          }
        },
        "summary": "Portal episode detail"
      }
    },
    "/portal/me/": {
      "get": {
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PortalMeResponse"
                }
              }
            },
            "description": "OK"
          },
          "401": {
            "description": "Unauthorized"
          }
        },
        "summary": "Portal profile"
      }
    },
    "/portal/notifications/": {
      "get": {
        "parameters": [
          {
            "in": "query",
            "name": "unread_only",
            "schema": {
              "type": "boolean"
            }
          },
          {
            "in": "query",
            "name": "page",
            "schema": {
              "type": "integer"
            }
          },
          {
            "in": "query",
            "name": "page_size",
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PortalNotificationList"
                }
              }
            },
            "description": "OK"
          },
          "401": {
            "description": "Unauthorized"
          }
        },
        "summary": "Portal notifications"
      }
    },
    "/portal/notifications/{notification_id}/read/": {
      "post": {
        "parameters": [
          {
            "in": "path",
            "name": "notification_id",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PortalNotificationReadResponse"
                }
              }
            },
            "description": "OK"
          },
          "401": {
            "description": "Unauthorized"
          },
          "404": {
            "description": "Not found"
          }
        },
        "summary": "Mark portal notification read"
      }
    },
    "/privacy/consents/": {
      "get": {
        "parameters": [
          {
            "in": "query",
            "name": "subject_type",
            "schema": {
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "subject_id",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ConsentRecordList"
                }
              }
            },
            "description": "OK"
          },
          "403": {
            "description": "Forbidden"
          }
        },
        "security": [
          {
            "cookieAuth": []
          }
        ],
        "summary": "List consent records"
      },
      "post": {
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ConsentRecordCreateRequest"
              }
            }
          }
        },
        "responses": {
          "201": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ConsentRecord"
                }
              }
            },
            "description": "Created"
          },
          "400": {
            "description": "Bad request"
          },
          "403": {
            "description": "Forbidden"
          }
        },
        "security": [
          {
            "cookieAuth": []
          }
        ],
        "summary": "Create consent record"
      }
    },
    "/privacy/dsar/delete/": {
      "post": {
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/DsarDeleteRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK"
          },
          "400": {
            "description": "Bad request"
          },
          "403": {
            "description": "Forbidden"
          },
          "404": {
            "description": "Not found"
          }
        },
        "security": [
          {
            "cookieAuth": []
          }
        ],
        "summary": "Request DSAR delete"
      }
    },
    "/privacy/dsar/export/": {
      "post": {
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/DsarExportRequest"
              }
            }
          }
        },
        "responses": {
          "201": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DsarExport"
                }
              }
            },
            "description": "Created"
          },
          "400": {
            "description": "Bad request"
          },
          "403": {
            "description": "Forbidden"
          }
        },
        "security": [
          {
            "cookieAuth": []
          }
        ],
        "summary": "Request DSAR export"
      }
    },
    "/privacy/dsar/exports/": {
      "get": {
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DsarExportList"
                }
              }
            },
            "description": "OK"
          },
          "403": {
            "description": "Forbidden"
          }
        },
        "security": [
          {
            "cookieAuth": []
          }
        ],
        "summary": "List DSAR exports"
      }
    },
    "/privacy/dsar/exports/{export_id}/download/": {
      "get": {
        "parameters": [
          {
            "in": "path",
            "name": "export_id",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          },
          "403": {
            "description": "Forbidden"
          },
          "404": {
            "description": "Not found"
          }
        },
        "security": [
          {
            "cookieAuth": []
          }
        ],
        "summary": "Download DSAR export"
      }
    },
    "/readyz/": {
      "get": {
        "responses": {
          "200": {
            "description": "OK"
          },
          "503": {
            "description": "Unavailable"
          }
        },
        "summary": "Readiness check"
      }
    },
    "/work-items/": {
      "get": {
        "parameters": [
          {
            "in": "query",
            "name": "status",
            "schema": {
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "assignee",
            "schema": {
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "due_before",
            "schema": {
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "kind",
            "schema": {
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "page",
            "schema": {
              "type": "integer"
            }
          },
          {
            "in": "query",
            "name": "page_size",
            "schema": {
              "type": "integer"
            }
          },
          {
            "in": "query",
            "name": "limit",
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/WorkItemListResponse"
                }
              }
            },
            "description": "OK"
          },
          "403": {
            "description": "Forbidden"
          }
        },
        "security": [
          {
            "cookieAuth": []
          }
        ],
        "summary": "List work items"
      }
    },
    "/work-items/{item_id}/assign/": {
      "post": {
        "parameters": [
          {
            "in": "path",
            "name": "item_id",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/WorkItemAssignRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/WorkItemAssignResponse"
                }
              }
            },
            "description": "OK"
          },
          "400": {
            "description": "Bad request"
          },
          "404": {
            "description": "Not found"
          }
        },
        "security": [
          {
            "cookieAuth": []
          }
        ],
        "summary": "Assign work item"
      }
    },
    "/work-items/{item_id}/complete/": {
      "post": {
        "parameters": [
          {
            "in": "path",
            "name": "item_id",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/WorkItemCompleteResponse"
                }
              }
            },
            "description": "OK"
          },
          "404": {
            "description": "Not found"
          }
        },
        "security": [
          {
            "cookieAuth": []
          }
        ],
        "summary": "Complete work item"
      }
    }
  },
  "servers": [
    {
      "url": "http://localhost:8000"
    }
  ]
}
